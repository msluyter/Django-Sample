

{% extends "./base.html" %}


 {% block title %}  Show Tables   {% endblock %}


 {% block header %}  



 <script>

$(document).ready(function() {


   $(".table-delete").click(function(event) {
    
      var table_name = $(this).parent().parent().find("td:first").text();
          
         
      $.get("/table/delete", {table_name: table_name}, function(){

         location.reload();
      });

     

  });


  $(".table-add-button").click(function(event) {
    
     var table_name = $(".table-add-name").val();

    if (table_name.length == 0 ){
      $(".table-add-name").popover({ content : "Must enter table name", placement: "bottom"});
      $(".table-add-name").popover('show');
     } else {

         $.get("/table/create", {table_name: table_name}, function(){

           location.reload();
        });

     }


  });

});


 </script>



 {% endblock %}


 {% block content %}

{% include "./header.html" with page=page_active|default:0 %}


<div id="main" class="panel panel-default">
  <div class="panel-heading">
    <h1 class="panel-title" >Show Tables </h1>
  </div>
  <div class="panel-body">
 <div class="input-group">
                 <span class="input-group-addon">
                 <button class="btn btn-xs btn-default table-add-button"><span class="glyphicon glyphicon-plus"></span> Add</button>
                 </span>
                <input type="text" class="form-control table-add-name" placeholder="Type table name here">
              </div>

<table class="table">
              <thead>
                <tr>
                 
                  <th> Name</th>

                  <th> Reservation Entry</th>
                    <th>Manage</th>
                </tr>
              </thead>
              <tbody>

				    	
				{% for r in res %}
				<tr>
          {% if r.reserved == "" %}
				    <td>{{ r.table.title }}</td>
          {% else %}
            <td><span class="label label-danger">{{ r.table.title }}</span></td>
          {% endif %}
          <td>{{ r.reserved }}</td>

           <td>
    <button class="btn btn-xs btn-default table-delete"><span class="glyphicon glyphicon-remove"></span>
    </button>
    </td>
				  
				</tr>


				{% endfor %}


              </tbody>

              
            </table>


  

  



</div>
</div>



{% endblock %}

